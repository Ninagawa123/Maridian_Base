### Meridianテストボード１号にTeensy4.0を挿したままの状態だとPCとUSB接続した時に動作が不安定になる
Teensy4.0特有の問題で、ピンからの給電とUSB給電を同時に行うと出る症状です。
Meridianボート上の黄色のジャンパピンでTeensy4.0への給電止められます。
新バージョンのボード(Type.K Test 1.0)ではジャンパピンを抜くとTeesy,ESP32,その他のチップ含めレギュレータからの5V供給を全部停止する仕様にしました。
ちなみに非推奨のコツみたいなものですが、電源から給電して動いている状態になってからUSBを挿せば、シリアルモニタリングや書き換えも可能のようです。

### Teensy単体でICSサーボの動作テストを行いたい時
https://github.com/Ninagawa123/Maridian_Base/blob/main/Meridian_Base_for_Teensy40.ino
に、ESP32をマウントしない場合のモードを追加しました。
130行目を #define ESP32_MOUNT 0 とすることでESP32と通信をしないモードになります。
また、217行目〜246行目でサーボマウントの設定ができますので、接続したサーボのIDの箇所のみ1とし、他は0にしてください。
例）左側系のID1番に該当するのはidl_mt[1]となります。

516行目の[3-3]のところが、Teensy単独計算用のプロセスになりますので、動作テストに必要なコードを追加してください。
idl_mt[1]をサインカーブで動かす時のサンプルコードは下記となります。
```
if (framecount > 60000) 
{ 
framecount = 0; 
}
r_merdim.sval[22] = 1;
r_merdim.sval[23] = int(sin(PI / 2 / 300 * framecount) * 3000);
Serial.println(r_merdim.sval[23]);
```
該当サーボがサインカーブ的に揺動すればうまくいっています

### Meridianテストボード１号に12Vを入れたときに動作が不安定になる（マイコンにリセットがかかる）
レギュレータの電力不足が原因だった場合には、安定化のために写真のように0.1μFと4.7μFのコンデンサを足すと改善するかもしれません。
その他の原因については検証中です。

### ESP32にリセットがかかる
コードの書き方によって問題が起こる場合があります。動作を高速に回しすぎるとシステムがハングアップと勘違いして自身でリセットをかけるそうです。
ループしている箇所に delay(1); などを挿入することで改善します。

### ボードの回路図について(2021.11.27)
* LED用の回路には抵抗がはいっていません。LED以外に信号線などとしても使えるようにするためで、LEDを接続する際には外部に抵抗をつけるか抵抗入りLEDを使ってください。
* 回路図中のレギュレータLM7805の部分には、実際にはROHMのBP5293-50を使っています。BP5293-50は発熱の非常に少ないレギュレータでパスコン一式も内蔵しています。

### ボードの運用について(2021.11.27)
* SDカードは電源オン中に抜き差ししないでください。（一時的な電圧降下によりマイコンがリセットする可能性があるようです）
※対策としてはSDカードの3.3VのVDDに10〜22uHのコイルを直列に接続するとよいそうです。300mA流せるものを選びます。
* SDカードは現状Teensy側からだけ使える仕様です。
